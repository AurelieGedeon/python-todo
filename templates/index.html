{% extends 'base.html' %} {% block head %}
<title>Task Striker</title>
{% endblock %} {% block body %}
<div class="content" style="margin-top: 10%">
  <h1 class="headers">Task Striker</h1>
  {% if tasks|length < 1 %}
  <h4 class="headers">
    You don't seem to have any tasks at the moment. Create one below!
  </h4>
  {% else %}
  <table>
    <tr>
      <th>Task</th>
      <th>Date Added</th>
      <th>Due By</th>
      <th>Actions</th>
      <th>Completed?</th>
    </tr>
    {% for task in tasks%}
    <tr>
      <td>{{task.content}}</td>
      <td>{{task.data_created.date()}}</td>
      <td>{{task.due_date.date()}}</td>
      <td>
        <a href="/task/{{task.id}}/delete">Delete</a>
        <br />
        <a href="/task/{{task.id}}/update">Update</a>
      </td>
      <td>
        {% if task.is_complete == True %}
        <p>Completed</p>
        <form action="/task/{{task.id}}/undo" method="POST">
          <input type="submit" value="Undo" />
        </form>
        {% else %}
        <form action="/task/{{task.id}}/complete" method="POST">
          <input type="submit" value="Complete Task" />
        </form>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </table>
  {% endif %}
  <div class="form">
    <form action="/task/add" method="POST">
      <input type="text" name="content" id="content" />
      <!-- replace value and min with today's date -->
      <input
        type="date"
        id="due_date"
        name="due_date"
        value="2022-04-11"
        min="2022-04-11"
        max="2028-12-31"
      />
      <input type="submit" value="Add Task" />
    </form>
  </div>
</div>
{% endblock %}
